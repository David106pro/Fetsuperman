# 海报爬取下载器文档

## 项目概述
海报爬取下载器是一个功能强大的多平台海报图片下载工具，支持从爱奇艺、优酷视频、腾讯视频等主流视频平台爬取和下载海报图片。

## 主要功能

### 🎯 核心功能
- **多平台支持**: 爱奇艺、优酷视频、腾讯视频
- **智能搜索**: 精确搜索和模糊搜索
- **批量处理**: Excel批量导入，自动化处理
- **尺寸预设**: 基础、河南、甘肃、陕西、云南等多种尺寸
- **智能缩放**: 保持比例的智能裁剪
- **自动压缩**: 云南尺寸100KB，其他300KB自动压缩

### 📊 支持的尺寸规格
- **原尺寸**: 保持图片原始尺寸，无缩放处理
- **基础尺寸**: 竖图 412x600px, 横图 528x296px
- **河南尺寸**: 竖图 525x750px, 横图 257x145px  
- **甘肃尺寸**: 竖图 412x600px, 横图 562x375px
- **陕西尺寸**: 竖图 245x350px, 横图 384x216px
- **云南尺寸**: 竖图 262x360px, 横图 412x230px
- **自定义尺寸**: 支持用户自定义

### 🛠️ 高级功能
- **路径同步**: 修改默认路径时自动同步批量和删除路径
- **智能缩放裁剪**: 保持图片比例，居中裁剪
- **批量删除**: 支持Excel导入批量删除不匹配文件
- **Cookie管理**: 支持各平台Cookie配置
- **搜索优先级**: 可配置多平台搜索优先级

## 安装和使用

### 环境要求
- Python 3.8+
- Windows 10/11

### 安装步骤
1. 运行 `python setup.py` 安装依赖
2. 运行 `python poster_downloader.py` 启动程序

### 基本使用
1. 选择平台（爱奇艺/优酷/腾讯）
2. 输入搜索关键词
3. 选择尺寸预设
4. 设置下载路径
5. 点击搜索并下载

### 批量处理
1. 切换到"批量爬取"标签
2. 选择Excel文件（包含影片名称和CID列）
3. 设置横图和竖图保存路径
4. 配置搜索优先级
5. 开始批量处理

## 配置说明

### 基本设置
- **默认平台**: 默认搜索平台
- **默认路径**: 图片保存路径
- **文件名格式**: 支持变量替换

### 批量设置  
- **搜索优先级**: 多平台搜索顺序
- **默认尺寸**: 批量处理默认尺寸
- **路径设置**: 横图和竖图分别保存

### Cookie设置
- **爱奇艺Cookie**: 提高搜索成功率
- **优酷Cookie**: 访问更多内容
- **腾讯Cookie**: 绕过访问限制

## 技术特性

### UI界面优化 🎨
- **浅色模式设计**: 设置浅色外观模式，提供最佳视觉体验
- **高对比度配色**: 深灰色文字(#2F2F2F)搭配浅色背景，显著提高可读性
- **统一配色方案**: 
  - 主窗口：#F0F0F0 浅灰背景
  - 侧边栏：#E0E0E0 中灰背景  
  - 内容区：#FFFFFF 纯白背景
  - 激活按钮：#1F6AA5 蓝色背景 + 白色文字
  - 状态信息：#1F6AA5 蓝色高亮

### 智能缩放裁剪
- 自动选择基准边进行等比缩放
- 居中裁剪，保留图片主要内容
- 避免图片拉伸变形

### 自动压缩
- 云南尺寸: 压缩至100KB以内
- 其他尺寸: 压缩至300KB以内
- 支持JPEG/WEBP格式质量压缩

### 路径同步
- 修改默认路径时自动同步
- 批量爬取路径自动更新
- 批量删除路径自动更新

## 更新日志

### v2025.01.24
- ✅ **UI配色优化**: 全面改善界面文字可读性
  - 设置浅色模式，提高文字对比度
  - 统一配色方案，深灰文字搭配浅色背景
  - 优化按钮状态显示，激活/默认状态区分明显
  - 状态信息使用蓝色高亮，重要信息更突出
- ✅ **依赖包管理优化**: 完善requirements.txt
  - 自动安装所有必需依赖包（PIL、requests、pandas等）
  - 修复ModuleNotFoundError错误
- ✅ **默认配置更新**: 原尺寸为默认选项
- ✅ **项目结构标准化**: setup.py自动配置环境

### v2025.01.22
- ✅ 添加陕西尺寸支持 (245x350px / 384x216px)
- ✅ 实现智能缩放裁剪功能
- ✅ 添加300KB自动压缩
- ✅ 实现路径同步功能
- ✅ 修复批量下载平台匹配问题

## 技术支持
如有问题请查看日志文件 `project-logs.log` 或联系技术支持。

---
*海报爬取下载器 - 让海报下载更简单*
